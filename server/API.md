All Endpoints
=============

| Path                          | Accepted Methods  |
| ----------------------------- | ----------------- |
| `/`                           | GET               |
| `/cert`                       | GET               |
| `/pair`                       | GET, POST         |
| `/pantry/`                    | GET, POST, DELETE |
| `/pantry/[itemID]`            | GET               |
| `/robot/presets/`             | GET, POST         |
| `/robot/presets/[presetID]`   | POST, DELETE      |
| `/robot/control`              | POST              |
| `/robot/camera`		| GET, POST	    |
| `/robot/status`		| GET		    |
| `/robot/scan`			| POST		    |

Endpoint Description
====================

All endpoints accept OPTIONS requests, which will return the allowed methods as well as server headers.
Additionally, all endpoints (beside `/cert` and GET to `/pair`) require a valid bearer token, a missing or invalid bearer will result in a 401 Unauthorized response status and no response body.

## `/`, `/cert`, `/pair`
The `/` endpoint accepts a GET request only, and returns a listing of all available API endpoints.

The `/cert` endpoint accepts a GET request only, and returns the TLS self-signed cert of the server.

The `/pair` endpoint will return a new bearer token on a GET request. If this would be the first token generated, no parameters are required. If other bearer tokens exist, a `code` parameter must be supplied containing a pairing code generated by a client with a valid bearer token. An authenticated POST request will return a pairing code. 

## `/pantry/`
The `/pantry/` endpoint responds to GET and POST requests. GET requests return a listing of item IDs with a quantity > 0; POSTs add a new item to the pantry: this requires a title and quantity, and optionally an image.

`/pantry/[itemID]` GET requests return item detail: including title, image, and quantity; PUT requests update any data of the item; and DELETE requests set the quantity of the item to 0.

## `/robot/`
`/presets/` GET requests will return a list of all camera position presets (titles and positions); POST requests will allow creating a new preset with `title` and `position` parameters (`parameter` must be in the form `(x,y)`).

`/presets/[presetID]` POST requests will recall the preset position, sending a command to the camera robot to move to the given position. DELETE requests will remove the preset from the database.

`/control` requests will take `x` and `y` parameters, integers in the range 0 - 100, and send a move command to the given position.

`/camera` GET requests will return the server's latest image from the robot. POST requests (from the robot) will update this image.

`/status` GET requests will return the current state of the robot system, from 'idle', 'processing' and 'scanning'. The request triggers a corresponding server -> robot request, so while results will be accurate, time of return is unknown.

`/scan` POST requests will trigger a server -> robot request to begin a scanning pass. The request returns no results.
